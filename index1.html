
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Ultimate City Destruction</title>
    <style>
        :root {
            --anim-speed: 18s;
            --road-color: #333;
        }
        body {
            margin: 0;
            height: 100vh;
            background: #fff;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
        }
        /* Небо */
        .sky {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #fff;
            animation: sky-cycle var(--anim-speed) infinite;
            z-index: 0;
        }
        @keyframes sky-cycle {
            0%, 15% { background: #fff; }
            25%, 75% { background: #1a1a2e; }
            85%, 100% { background: #000; }
        }
        /* Дальний город */
        .background-city {
            position: absolute;
            bottom: 120px;
            width: 120%;
            height: 200px;
            background: repeating-linear-gradient(90deg, #555 0 40px, transparent 40px 80px);
            mask-image: linear-gradient(to top, black 50%, transparent 100%);
            opacity: 0.3;
            z-index: 1;
        }
        /* Дорога */
        .road {
            position: relative;
            width: 100%;
            height: 100px;
            background: var(--road-color);
            border-top: 4px solid #555;
            display: flex;
            align-items: center;
            z-index: 10;
        }
        .road::before {
            content: ''; position: absolute; width: 100%; height: 2px;
            background: repeating-linear-gradient(90deg, #fff 0 50px, transparent 50px 100px);
            top: 50%;
        }
        /* Машины */
        .car {
            position: absolute;
            width: 40px; height: 20px;
            background: var(--c);
            border-radius: 4px;
            left: -100px;
            z-index: 11;
        }
        /* Машина, которая останавливается и вызывает затор */
        .pileup-leader {
            animation: car-stop var(--anim-speed) infinite;
            top: 40px;
        }
        /* Машины, врезающиеся в остановившуюся */
        .pileup-victim {
            animation: car-hit var(--anim-speed) infinite;
            top: 40px;
        }
        @keyframes car-stop {
            0% { left: -100px; background: white; filter: brightness(1); }
            15% { left: 45%; background: white; }
            16% { left: 45%; background: #444; transform: rotate(5deg); }
            80% { filter: brightness(1); }
            85%, 100% { left: 45%; background: #111; filter: brightness(0); transform: rotate(5deg); } /* Обугленный остов после ядерки */
        }
        @keyframes car-hit {
            0% { left: -100px; }
            17% { left: -100px; }
            20% { left: 42%; transform: scale(1.1); background: #ffaa00; box-shadow: 0 0 20px yellow; }
            22% { left: 42%; transform: rotate(-10deg); background: var(--c); box-shadow: none; }
            80% { filter: brightness(1); }
            85%, 100% { left: 42%; background: #111; filter: brightness(0); transform: rotate(-10deg); }
        }
        /* Врезающиеся машины в башни */
        .crash-left { animation: crash-l var(--anim-speed) infinite; }
        .crash-right { animation: crash-r var(--anim-speed) infinite; }
        @keyframes crash-l {
            0% { left: -100px; bottom: 10px; background: red; }
            19% { left: 38%; bottom: 10px; background: red; }
            20% { left: 40%; bottom: 10px; background: #ffaa00; transform: scale(1.5); box-shadow: 0 0 50px 20px red; }
            22% { left: 40%; bottom: 10px; transform: rotate(15deg) scaleX(0.7); background: #222; box-shadow: none; }
            80% { filter: brightness(1); }
            85%, 100% { left: 40%; bottom: 10px; background: #000; filter: brightness(0); transform: rotate(15deg) scaleX(0.7); }
        }
        @keyframes crash-r {
            0% { left: 110%; bottom: 70px; background: blue; }
            19% { left: 57%; bottom: 70px; background: blue; }
            20% { left: 55%; bottom: 70px; background: #ffaa00; transform: scale(1.5); box-shadow: 0 0 50px 20px red; }
            22% { left: 55%; bottom: 70px; transform: rotate(-20deg) scaleX(0.7); background: #222; box-shadow: none; }
            80% { filter: brightness(1); }
            85%, 100% { left: 55%; bottom: 70px; background: #000; filter: brightness(0); transform: rotate(-20deg) scaleX(0.7); }
        }
        /* Здания */
        .city-front {
            display: flex;
            align-items: flex-end;
            gap: 100px;
            z-index: 5;
            margin-bottom: -10px;
            animation: city-burn var(--anim-speed) infinite;
        }
        .building {
            position: relative;
            width: 160px;
            height: var(--h);
            background: #3d405b;
            animation: shake var(--anim-speed) infinite;
        }
        /* Окна с трупами */
        .window-corpse {
            position: absolute;
            width: 20px; height: 30px;
            background: #000;
            top: var(--top); left: var(--left);
            border: 1px solid #555;
        }
        .window-corpse::after {
            content: ''; position: absolute; top: 30%; left: 10%;
            width: 80%; height: 60%; background: #ffdbac;
            border-radius: 5px; opacity: 0;
            animation: appearance var(--anim-speed) infinite;
        }
        @keyframes appearance {
            0%, 45% { opacity: 0; }
            50%, 80% { opacity: 1; }
            81%, 100% { opacity: 0; }
        }
        .building::after {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #111;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
            animation: ruin var(--anim-speed) infinite;
            z-index: 2;
        }
        @keyframes ruin {
            0%, 30% { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); }
            35%, 79% { clip-path: polygon(0 30%, 20% 50%, 40% 20%, 70% 60%, 100% 10%, 100% 100%, 0 100%); opacity: 1; }
            80%, 100% { clip-path: polygon(0 90%, 100% 95%, 100% 100%, 0 100%); opacity: 0; }
        }
        /* Молния */
        .lightning {
            position: absolute; top: 0; width: 5px; height: 100%; background: #fff;
            box-shadow: 0 0 40px #4cc9f0; opacity: 0; z-index: 20;
            animation: strike var(--anim-speed) infinite;
        }
        @keyframes strike {
            0%, 29%, 31%, 33%, 35%, 100% { opacity: 0; }
            30%, 34% { opacity: 1; left: var(--p); }
        }
        /* Взрыв и ядерная вспышка */
        .blast {
            position: absolute; top: 0; left: 50%; width: 0; height: 0;
            background: radial-gradient(circle, #ff0, #f60, transparent);
            transform: translate(-50%, -50%); opacity: 0;
            animation: explode var(--anim-speed) infinite;
            z-index: 10;
        }
        @keyframes explode {
            30% { width: 0; height: 0; opacity: 0; }
            31% { width: 300px; height: 300px; opacity: 1; }
            36% { width: 400px; height: 400px; opacity: 0; }
        }
        .nuke-flash {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; opacity: 0; z-index: 100; pointer-events: none;
            animation: flash-final var(--anim-speed) infinite;
        }
        @keyframes flash-final {
            0%, 79% { opacity: 0; }
            80% { opacity: 1; }
            85% { opacity: 1; background: #ff4500; }
            100% { opacity: 0; }
        }
        /* Ядерная бомба */
        .nuke {
            position: absolute; top: -100px; left: 50%; width: 30px; height: 70px;
            background: #2d3436; border-radius: 10px 10px 2px 2px;
            z-index: 50; transform: translateX(-50%);
            animation: nuke-fall var(--anim-speed) infinite;
        }
        .nuke::before { content: '☢'; color: yellow; display: block; text-align: center; margin-top: 10px; font-weight: bold; }
        @keyframes nuke-fall {
            0%, 60% { top: -100px; opacity: 0; }
            65% { top: -100px; opacity: 1; }
            79.9% { top: 80%; opacity: 1; }
            80%, 100% { top: 80%; opacity: 0; }
        }
        /* Трупы на земле */
        .corpse {
            position: absolute; width: 22px; height: 8px; background: #555; border-radius: 3px;
            opacity: 0; bottom: 0; z-index: 4;
            animation: appearance var(--anim-speed) infinite;
        }
        @keyframes city-burn {
            80%, 100% { filter: brightness(0); transform: translateY(50px); }
        }
        @keyframes shake {
            30%, 35% { transform: translate(3px, 0); }
            31%, 34% { transform: translate(-3px, 0); }
        }
       
        .dead-city-text {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: #444; font-family: sans-serif; font-size: 50px; opacity: 0;
            animation: show-text var(--anim-speed) infinite;
            z-index: 110;
        }
        @keyframes show-text { 90%, 100% { opacity: 1; } }
    </style>
</head>
<body>
    <div class="sky">
        <div class="lightning" style="--p: 35%"></div>
        <div class="lightning" style="--p: 65%"></div>
    </div>
    <div class="nuke-flash"></div>
    <div class="nuke"></div>
    <div class="dead-city-text">ПУСТОШЬ</div>
    <div class="background-city"></div>
    <div class="city-front">
        <div class="building" style="--h: 350px;">
            <div class="window-corpse" style="--top: 50px; --left: 30px;"></div>
            <div class="window-corpse" style="--top: 100px; --left: 100px;"></div>
            <div class="window-corpse" style="--top: 200px; --left: 20px;"></div>
            <div class="blast"></div>
            <div class="corpse" style="left: -50px;"></div>
            <div class="corpse" style="left: -100px;"></div>
        </div>
        <div class="building" style="--h: 300px;">
            <div class="window-corpse" style="--top: 40px; --left: 20px;"></div>
            <div class="window-corpse" style="--top: 120px; --left: 80px;"></div>
            <div class="blast"></div>
            <div class="corpse" style="right: -50px;"></div>
        </div>
    </div>
    <div class="road">
        <div class="car pileup-leader"></div>
        <div class="car pileup-victim" style="--c: green; animation-delay: 0.5s;"></div>
        <div class="car pileup-victim" style="--c: purple; animation-delay: 1s;"></div>
       
        <div class="car crash-left" style="--c: red;"></div>
        <div class="car crash-right" style="--c: blue;"></div>
    </div>
</body>
</html>
